<!DOCTYPE html>
<html class="nl" lang="nl" dir="ltr">
<head>
<meta charset="UTF-8" />
<style>

</style>
</head>

<body>

<div id="sprite" style="background-image:url(sprites/pxlfili_arcade_S.png)"></div>

<p>
    <button id="play">play</button>
    <button id="pause">pause</button>
    <button id="stop">stop</button>
    <button id="reset">reset</button>
    <button id="nextFrame">nextFrame</button>
    <button id="previousFrame">previousFrame</button>
    <button id="reverse">reverse</button>
</p>
<p>
    <label>Frame: </label><input type="text" size="5" id="framenumber" value="0" /><button id="goToFrame">goToFrame</button>
    <label>Tempo: </label><input type="text" size="5" id="tempo" value="1" /><button id="setTempo">setTempo</button>
</p>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="javascript/jquery.sprite-animator.js"></script>
<script>
    
    var sprite = $('#sprite');
    var spriteData = sprite.spriteAnimator({
        debug: true,
        top: 200,
        left: 100,
        cols: 3,
        rows: 9,
        startFrame: 15
    }).play({
        play: false,
        run: -1,
        delay: 200,
        reversed: false,
        tempo: 1
    });
    
    sprite.on('loaded', function(){
        //console.log($(this));
        $(this).trigger('goToFrame', 26);
    });
    
    sprite.on('frame', function(){
        console.log('.');
    });
    
    $('button#play').on('click', function(event){
        event.preventDefault();
        sprite.trigger('play', {
            play: true,
            run: -1,
            delay: 400,
            reversed: true,
            tempo: 1
        });
    });
    
    $('button#pause').on('click', function(event){
        event.preventDefault();
        sprite.trigger('pause');
    });

    $('button#stop').on('click', function(event){
        event.preventDefault();
        sprite.trigger('stop');
    });

    $('button#reset').on('click', function(event){
        event.preventDefault();
        sprite.data('spriteAnimator').reset();
    });

    $('button#nextFrame').on('click', function(event){
        event.preventDefault();
        sprite.data('spriteAnimator').nextFrame();
    });
    
    $('button#previousFrame').on('click', function(event){
        event.preventDefault();
        sprite.data('spriteAnimator').previousFrame();
    });

    $('button#reverse').on('click', function(event){
        event.preventDefault();
        sprite.data('spriteAnimator').reverse();
    });

    $('button#goToFrame').on('click', function(event){
        event.preventDefault();
        var frameNumber = $('input#framenumber').val() || 0;
        //sprite.data('spriteAnimator').goToFrame(frameNumber);
        sprite.trigger('goToFrame', frameNumber);
    });

    $('button#setTempo').on('click', function(event){
        event.preventDefault();
        var tempo = $('input#tempo').val() || 1;
        sprite.data('spriteAnimator').setTempo(tempo);
    });
    
    
</script>

</body>
</html>
